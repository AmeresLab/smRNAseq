process {
    executor = "slurm"

    $extractHairpins {
        module = "BEDTools/2.25.0-foss-2017a:SAMtools/1.4-foss-2017a"
    }

    $makeIndex {
        module = "Bowtie/1.1.2-foss-2017a:SAMtools/1.4-foss-2017a"
    }

    $trim_adapter {
        module = "cutadapt/1.9.1-foss-2017a-Python-2.7.13"
    }

    $trim_4N {
        process.container = "dukegcb/seqtk:latest"
        docker.enabled = true
    }

    $bowtie_hairpins {
        module = "Bowtie/1.1.2-foss-2017a:Mawk/1.3.4-20150503:SAMtools/1.4-foss-2017a"
        cpus = 4
        penv = "smp"
    }

    $post_alignment {
        module = "SAMtools/1.4-foss-2017a"
    }

    $writeJson {
        module = "Python/2.7.13-foss-2017a"
    }
}
